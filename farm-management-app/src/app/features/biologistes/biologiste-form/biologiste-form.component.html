<div class="form-container">
  <div class="form-content">

    <!-- Header -->
    <div class="form-header">
      <div>
        <h1 class="form-title">
          üë®‚Äçüî¨ Cr√©er un Profil Biologiste
        </h1>
        <p class="form-subtitle">
          Compl√©tez vos informations professionnelles
        </p>
      </div>
    </div>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="success-banner">
      ‚úÖ {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-banner">
      ‚ö†Ô∏è {{ errorMessage }}
    </div>

    <!-- Form -->
    <form [formGroup]="biologisteForm" (ngSubmit)="onSubmit()" class="card form-card">

      <!-- Keycloak User ID (cach√© ou readonly) -->
      <div class="form-group">
        <label for="keycloakUserId" class="form-label">
          Identifiant Utilisateur <span class="required">*</span>
        </label>
        <input
          type="text"
          id="keycloakUserId"
          formControlName="keycloakUserId"
          class="input-field"
          readonly
          placeholder="G√©n√©r√© automatiquement">
        <span class="help-text">
          Cet identifiant est li√© √† votre compte Keycloak
        </span>
      </div>

      <!-- Nom complet -->
      <div class="form-group">
        <label for="nom" class="form-label">
          Nom Complet <span class="required">*</span>
        </label>
        <input
          type="text"
          id="nom"
          formControlName="nom"
          class="input-field"
          [class.input-error]="isFieldInvalid('nom')"
          placeholder="Ex: Dr. Jean Dupont">
        <span *ngIf="isFieldInvalid('nom')" class="error-text">
          {{ getFieldError('nom') }}
        </span>
      </div>

      <!-- Sp√©cialit√© -->
      <div class="form-group">
        <label for="specialite" class="form-label">
          Sp√©cialit√©
        </label>
        <input
          type="text"
          id="specialite"
          formControlName="specialite"
          class="input-field"
          [class.input-error]="isFieldInvalid('specialite')"
          placeholder="Ex: Agronomie, Microbiologie, Biotechnologie...">
        <span *ngIf="isFieldInvalid('specialite')" class="error-text">
          {{ getFieldError('specialite') }}
        </span>
      </div>

      <!-- T√©l√©phone -->
      <div class="form-group">
        <label for="telephone" class="form-label">
          T√©l√©phone
        </label>
        <input
          type="tel"
          id="telephone"
          formControlName="telephone"
          class="input-field"
          [class.input-error]="isFieldInvalid('telephone')"
          placeholder="Ex: +212 6 12 34 56 78">
        <span *ngIf="isFieldInvalid('telephone')" class="error-text">
          {{ getFieldError('telephone') }}
        </span>
      </div>

      <!-- Actif -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input
            type="checkbox"
            formControlName="actif"
            class="checkbox-input">
          <span>Profil actif</span>
        </label>
        <span class="help-text">
          D√©cochez pour d√©sactiver temporairement votre profil
        </span>
      </div>

      <!-- Actions -->
      <div class="form-actions">
        <button type="button" class="btn-outline" (click)="cancel()" [disabled]="isSubmitting">
          Annuler
        </button>
        <button type="submit" class="btn-primary" [disabled]="isSubmitting || biologisteForm.invalid">
          <span *ngIf="!isSubmitting">
            ‚ûï Cr√©er le Profil
          </span>
          <span *ngIf="isSubmitting">
            ‚è≥ Enregistrement...
          </span>
        </button>
      </div>

    </form>

  </div>
</div>
